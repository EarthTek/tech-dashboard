{"version":3,"sources":["Auth/react-auth0-spa.js","Store/Reducer.js","Store/Store.js","Header/Header.js","Table/Table.js","Issues/Repositories.js","Issues/Issues.js","Devices/DataParser.js","Devices/hologramConstants.js","Devices/Devices.js","Devices/Device.js","Forms/KoboFormAuth.js","Forms/FormsLoadingSkeleton.js","Forms/Forms.js","Landing/Landing.js","utils/private-routes.js","App.js","serviceWorker.js","utils/history.js","index.js"],"names":["DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","React","createContext","useAuth0","useContext","updateRole","state","action","userRole","data","setPsaForms","psaForms","setPsassgForms","psassgForms","setDevicesInfo","devices","updateAllRepos","repositories","updateHelloWorld","helloText","setSiteInfo","site_information","setOneSiteInfo","push","checkAuth","username","password","loggedIn","Reducer","type","initialState","Context","Store","children","useReducer","dispatch","Provider","value","useStyles","makeStyles","theme","root","display","flexGrow","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","hide","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","mixins","toolbar","justifyContent","content","contentShift","Header","props","classes","useTheme","useState","open","setOpen","anchorEl","setAnchorEl","profileMenuOpen","Boolean","isAuthenticated","loginWithRedirect","logout","user","handleProfileMenuClose","useEffect","a","async","Axios","get","email","then","response","records","length","post","userid","role","permissions","view_protected","updated","headers","catch","error","console","log","e","fetchRole","className","AppBar","position","clsx","color","Toolbar","IconButton","aria-label","onClick","edge","Typography","variant","noWrap","setDarkTheme","isDarkTheme","Brightness4","BrightnessHigh","Lock","aria-controls","aria-haspopup","event","currentTarget","AccountCircle","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","Drawer","anchor","paper","direction","ChevronLeft","ChevronRight","Divider","List","ListItem","button","key","component","Link","to","ListItemIcon","ViewList","ListItemText","primary","QuestionAnswer","Radio","Storage","tableIcons","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","TableComponent","tableState","setTableState","fetchRecords","apiURL","Box","style","maxWidth","Grid","container","item","xs","Button","isLoading","editable","isEditable","rowData","isDeletable","onRowAdd","newData","icons","columns","field","options","exportButton","exportFileName","addRowPosition","exportAllData","pageSize","pageSizeOptions","groupRowSeparator","grouping","card","minWidth","bullet","margin","transform","fontSize","pos","marginBottom","CardBuilder","repo","Card","CardHeader","avatar","Avatar","src","owner","avatar_url","alt","login","name","CardContent","open_issues_count","CardActions","size","href","url","target","RepositoriesComponent","repos","map","index","ReposComponent","success","bl","Promise","resolve","reject","getAllRepoNames","height","Repositories","deadDeviceBG","red","activeDeviceBG","green","DataParser","deviceId","setDeviceId","shouldRedirect","setShouldRedirect","device","deviceData","dateStatus","deviceDateStr","today","lastsession","deviceSessionBegin","links","cellular","last_connect_time","moment","tz","format","toString","deviceDay","date","deviceMonth","month","deviceYear","year","now","todayDay","todayMonth","CardActionArea","backgroundColor","disabled","setDeviceState","fontWeight","APIURL","process","APICreds","authBase64","btoa","responseType","Authorization","DevicesComponent","devicesLoadingState","setDevicesLoadingState","devicesData","finalAPIURL","Constants","apiCall","continues","next","devicesFlatData","flat","sort","compare","b","bandA","toUpperCase","bandB","comparison","elevation","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","flexWrap","overflow","palette","background","gridList","titleBar","icon","DeviceComponent","setDeviceData","flag","latLng","setLatLng","mostRecentData","setMostRecentData","undefined","match","params","latitude","longitude","renderJSON","jdata","JSON","parse","substring","atob","whiteSpace","wordWrap","renderTimestamp","ts","timestamp","renderErrorCode","ecd","errorcode","GridList","cellHeight","GridListTile","Map","center","zoom","zoomControl","TileLayer","attribution","Marker","Popup","GridListTileBar","zIndex","titlePosition","actionIcon","tooltip","ArrowBackIosOutlined","actionPosition","cols","Create","secondary","whencreated","SimCard","imei","Phone","phonenumber","Business","orgid","SimCardTwoTone","imei_sv","Category","NetworkCell","last_network_used","Router","SignalCellularConnectedNoInternet0Bar","whenexpires","row","FastForward","Label","tags","chip","Chip","label","Skeleton","animation","getAllKoboAssets","who","FormsLoadingSkeleton","Forms","isPSALoading","setIsPSALoading","isPSASSGLoading","setIsPSASSGLoading","results","Paper","form","deployment__active","deployment__submission_count","LandingComponent","paddingTop","minHeight","align","gutterBottom","PrivateRoute","Component","path","rest","loading","appState","targetUrl","render","App","main","localStorage","getItem","typography","useNextVariants","fontFamily","setTheme","muiTheme","createMuiTheme","setItem","body","CssBaseline","ThemeProvider","Container","newPaletteType","Landing","exact","Table","hostname","createBrowserHistory","ReactDOM","onRedirectCallback","initOptions","setIsAuthenticated","setUser","auth0Client","setAuth0","setLoading","popupOpen","setPopupOpen","createAuth0Client","auth0FromHook","search","includes","handleRedirectCallback","getUser","initAuth0","loginWithPopup","redirect_uri","getIdTokenClaims","getTokenSilently","getTokenWithPopup","domain","config","client_id","clientId","origin","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.156bc29f.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n  window.history.replaceState({}, document.title, window.location.pathname);\n\nexport const Auth0Context = React.createContext();\nexport const useAuth0 = () => useContext(Auth0Context);\nexport const Auth0Provider = ({\n  children,\n  onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n  ...initOptions\n}) => {\n  const [isAuthenticated, setIsAuthenticated] = useState();\n  const [user, setUser] = useState();\n  const [auth0Client, setAuth0] = useState();\n  const [loading, setLoading] = useState(true);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  useEffect(() => {\n    const initAuth0 = async () => {\n      const auth0FromHook = await createAuth0Client(initOptions);\n      setAuth0(auth0FromHook);\n\n      if (\n        window.location.search.includes(\"code=\") &&\n        window.location.search.includes(\"state=\")\n      ) {\n        const { appState } = await auth0FromHook.handleRedirectCallback();\n        onRedirectCallback(appState);\n      }\n\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\n\n      setIsAuthenticated(isAuthenticated);\n\n      if (isAuthenticated) {\n        const user = await auth0FromHook.getUser();\n        setUser(user);\n      }\n\n      setLoading(false);\n    };\n    initAuth0();\n    // eslint-disable-next-line\n  }, []);\n\n  const loginWithPopup = async (\n    params = {\n      redirect_uri: \"https://precisionsustainableag.org/tech-dashboard\"\n    }\n  ) => {\n    setPopupOpen(true);\n    try {\n      await auth0Client.loginWithPopup(params);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setPopupOpen(false);\n    }\n    const user = await auth0Client.getUser();\n    setUser(user);\n    setIsAuthenticated(true);\n  };\n\n  const handleRedirectCallback = async () => {\n    setLoading(true);\n    await auth0Client.handleRedirectCallback();\n    const user = await auth0Client.getUser();\n    setLoading(false);\n    setIsAuthenticated(true);\n    setUser(user);\n  };\n  return (\n    <Auth0Context.Provider\n      value={{\n        isAuthenticated,\n        user,\n        loading,\n        popupOpen,\n        loginWithPopup,\n        handleRedirectCallback,\n        getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\n        loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\n        getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\n        getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\n        logout: (...p) => auth0Client.logout(...p)\n      }}\n    >\n      {children}\n    </Auth0Context.Provider>\n  );\n};\n","const Reducer = (state, action) => {\n  switch (action.type) {\n    case \"UPDATE_HELLO_WORLD\":\n      return updateHelloWorld(state, action);\n\n    case \"SET_SITE_INFO\":\n      return setSiteInfo(state, action);\n    case \"ADD_ONE_SITE_INFO_TO_STATE\":\n      return setOneSiteInfo(state, action);\n    case \"UPDATE_ALL_REPOS\":\n      return updateAllRepos(state, action);\n    case \"SET_DEVICES_INFO\":\n      return setDevicesInfo(state, action);\n    case \"SET_PSA_FORMS\":\n      return setPsaForms(state, action);\n    case \"SET_PSASSG_FORMS\":\n      return setPsassgForms(state, action);\n    case \"CHECK_USERNAME_PASSWORD\":\n      return checkAuth(state, action);\n    case \"UPDATE_ROLE\":\n      return updateRole(state, action);\n\n    default:\n      return { ...state };\n  }\n};\n\nconst updateRole = (state, action) => {\n  return {\n    ...state,\n    userRole: action.data.userRole\n  };\n};\nconst setPsaForms = (state, action) => {\n  return {\n    ...state,\n    psaForms: action.data\n  };\n};\n\nconst setPsassgForms = (state, action) => {\n  return {\n    ...state,\n    psassgForms: action.data\n  };\n};\n\nconst setDevicesInfo = (state, action) => {\n  return {\n    ...state,\n    devices: action.data\n  };\n};\n\nconst updateAllRepos = (state, action) => {\n  return {\n    ...state,\n    repositories: action.data\n  };\n};\nconst updateHelloWorld = (state, action) => {\n  return { ...state, helloText: \"hi world\" };\n};\n\nconst setSiteInfo = (state, action) => {\n  return { ...state, site_information: action.data };\n};\n\nconst setOneSiteInfo = (state, action) => {\n  return {\n    ...state,\n    site_information: state.site_information.push(action.data)\n  };\n};\n\nconst checkAuth = (state, action) => {\n  if (action.data.username === \"hey\" && action.data.password === \"hey\")\n    return { ...state, loggedIn: true };\n  else return { ...state, loggedIn: false };\n};\n\nexport default Reducer;\n","import React, { createContext, useReducer } from \"react\";\nimport Reducer from \"./Reducer\";\n\nconst initialState = {\n  loggedIn: false,\n  site_information: [],\n  repositories: [],\n  devices: [],\n  psaForms: [],\n  psassgForms: [],\n  userRole: \"default\"\n};\n\nconst Store = ({ children }) => {\n  const [state, dispatch] = useReducer(Reducer, initialState);\n  return (\n    <Context.Provider value={[state, dispatch]}>{children}</Context.Provider>\n  );\n};\nexport const Context = createContext(initialState);\nexport default Store;\n","// API Endpoint Functions\n// \"cs\": contain string (string contains value)\n// \"sw\": start with (string starts with value)\n// \"ew\": end with (string end with value)\n// \"eq\": equal (string or number matches exactly)\n// \"lt\": lower than (number is lower than value)\n// \"le\": lower or equal (number is lower than or equal to value)\n// \"ge\": greater or equal (number is higher than or equal to value)\n// \"gt\": greater than (number is higher than value)\n// \"bt\": between (number is between two comma separated values)\n// \"in\": in (number or string is in comma separated list of values)\n// \"is\": is null (field contains \"NULL\" value)\n\nimport React, { useEffect, useContext } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nimport {\n  Drawer,\n  CssBaseline,\n  AppBar,\n  Toolbar,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n  Divider,\n  Typography,\n  Button,\n  Menu,\n  MenuItem\n} from \"@material-ui/core\";\n\nimport { Link } from \"react-router-dom\";\nimport {\n  ChevronRight,\n  ChevronLeft,\n  Radio,\n  Storage,\n  QuestionAnswer,\n  ViewList,\n  AccountCircle,\n  Lock,\n  Brightness4,\n  BrightnessHigh,\n  DragIndicatorSharp\n} from \"@material-ui/icons\";\nimport { useAuth0 } from \"../Auth/react-auth0-spa\";\nimport Axios from \"axios\";\nimport { Context } from \"../Store/Store\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexGrow: 1\n  },\n  title: {\n    flexGrow: 1\n  },\n  appBar: {\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\"\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }\n}));\n\nexport default function Header(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const profileMenuOpen = Boolean(anchorEl);\n  const [state, dispatch] = useContext(Context);\n\n  const { isAuthenticated, loginWithRedirect, logout, user } = useAuth0();\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleProfileMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {};\n  const toggleThemeDarkness = () => {\n    props.setDarkTheme();\n  };\n\n  const addUserToDatabase = async (role, email) => {\n    await Axios.post(`http://52.227.159.166/api/records/users`, {\n      userid: \"\",\n      email: email,\n      state: 'default',\n      role: \"default\",\n      permissions: 'none',\n      view_protected: 1,\n      updated: \"\"\n    }, {\n      headers: {\n        'Content-Type': 'application/x-www-form-url-encoded'\n      }\n    }).catch(error => {\n      console.log('error')\n      console.log(error.response);\n    });\n  };\n  const fetchRole = async user => {\n    await Axios.get(`http://52.227.159.166/api/records/users?filter=email,eq,${user.email}`).then(response => {\n     try{\n      \n      // console.log(response.data.records.length);\n      if(response.data.records.length === 0) {\n        //  new user.. add record to db with default role\n        addUserToDatabase(state.userRole, user.email);\n        dispatch({\n            type: \"UPDATE_ROLE\",\n            data: {\n              userRole: \"default\"\n            }\n          });\n\n      }  else {\n          dispatch({\n            type: \"UPDATE_ROLE\",\n            data: {\n              userRole: response.data.records.role\n            }\n          });\n        }\n     }catch(e) {\n       console.error(e);\n     }\n     \n      // if(response.data.records) {\n      //   let data = response.data.records[0];\n      //   if (data.length === 0) {\n      //     //   //  new user.. add record to db with default role\n      //     console.log('inside')\n      //     // addUserToDatabase(state.userRole, user.email);\n      //     dispatch({\n      //       type: \"UPDATE_ROLE\",\n      //       data: {\n      //         userRole: \"default\"\n      //       }\n      //     });\n      //   } else {\n      //     dispatch({\n      //       type: \"UPDATE_ROLE\",\n      //       data: {\n      //         userRole: data.role\n      //       }\n      //     });\n      //   }\n        \n      // } else {\n      //   //\n      //   console.log('response',response);     \n      // }\n\n    });\n  };\n\n  useEffect(() => {\n    // RenderRoleURL(user);\n    if (isAuthenticated) {\n      fetchRole(user);\n    }\n  }, [isAuthenticated]);\n  return (\n    <div className={classes.root}>\n      {/* <CssBaseline /> */}\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open\n        })}\n        color=\"primary\"\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, open && classes.hide)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap className={classes.title}>\n            PSA Tech Dashboard\n          </Typography>\n          <IconButton color=\"inherit\" onClick={toggleThemeDarkness}>\n            {props.isDarkTheme ? <Brightness4 /> : <BrightnessHigh />}\n          </IconButton>\n          {!isAuthenticated && (\n            <IconButton color=\"inherit\" onClick={() => loginWithRedirect({})}>\n              <Lock />\n            </IconButton>\n          )}\n\n          {/* {isAuthenticated && <Button onClick={() => logout()}>Log out</Button>} */}\n          {isAuthenticated && (\n            <div>\n              <IconButton\n                aria-label=\"user profile\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n                keepMounted\n                transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n                open={profileMenuOpen}\n                onClose={handleProfileMenuClose}\n              >\n                <MenuItem onClick={handleProfileMenuClose}>Profile</MenuItem>\n                <MenuItem onClick={() => logout()}>Log Out</MenuItem>\n              </Menu>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"ltr\" ? <ChevronLeft /> : <ChevronRight />}\n          </IconButton>\n        </div>\n\n        <Divider />\n        <List>\n          <ListItem button key={\"Home\"} component={Link} to=\"/\">\n            <ListItemIcon>\n              <ViewList />\n            </ListItemIcon>\n            <ListItemText primary={\"Quick Links\"} />\n          </ListItem>\n          <ListItem button key={\"All Data\"} component={Link} to=\"/table\">\n            <ListItemIcon>\n              <ViewList />\n            </ListItemIcon>\n            <ListItemText primary={\"All Data\"} />\n          </ListItem>\n\n          <ListItem button key={\"Issues\"} component={Link} to=\"/issues\">\n            <ListItemIcon>\n              <QuestionAnswer />\n            </ListItemIcon>\n            <ListItemText primary={\"Issues\"} />\n          </ListItem>\n\n          <ListItem button key=\"Devices\" component={Link} to=\"/devices\">\n            <ListItemIcon>\n              <Radio />\n            </ListItemIcon>\n            <ListItemText primary=\"Devices\" />\n          </ListItem>\n          <ListItem button key=\"Forms\" component={Link} to=\"/kobo-forms\">\n            <ListItemIcon>\n              <Storage />\n            </ListItemIcon>\n            <ListItemText primary=\"Forms\" />\n          </ListItem>\n        </List>\n      </Drawer>\n    </div>\n  );\n}\n","import React, { useEffect, useContext, useState } from \"react\";\nimport { forwardRef } from \"react\";\nimport MaterialTable from \"material-table\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport Clear from \"@material-ui/icons/Clear\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport { Context } from \"../Store/Store\";\nimport Axios from \"axios\";\nimport { useAuth0 } from \"../Auth/react-auth0-spa\";\nimport { Box, Grid, Button } from \"@material-ui/core\";\n// import ReactLoading from \"react-loading\";\n// import AddIcon from \"@material-ui/icons/Add\";\n\n// import { Fab } from \"@material-ui/core\";\n\nconst tableIcons = {\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n  DetailPanel: forwardRef((props, ref) => (\n    <ChevronRight {...props} ref={ref} />\n  )),\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n  PreviousPage: forwardRef((props, ref) => (\n    <ChevronLeft {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n};\n\nconst TableComponent = () => {\n  const [state, dispatch] = useContext(Context);\n  const [tableState, setTableState] = useState(true);\n  const { user } = useAuth0();\n  useEffect(() => {\n    console.log(\"hello from table\");\n    console.log(user);\n    if (state.site_information.length === 0) {\n      fetchRecords(`http://13.72.51.225/api/?tablerecords=all`).then(() => {\n        setTableState(false);\n      });\n    } else {\n      setTableState(false);\n    }\n  }, [tableState]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchRecords = async apiURL => {\n    await Axios.get(apiURL).then(response => {\n      let data = response.data;\n      dispatch({\n        type: \"SET_SITE_INFO\",\n        data: data\n      });\n      //   console.log(response);\n    });\n  };\n\n  const setTableRecordFormat = () => {\n    console.log(\"inside table record function\", state);\n    state.site_information.map((site, index) => {\n      console.log(\"site\", site);\n      let grower = site.last_name;\n      let county = site.county;\n      let email = site.email;\n      let address = site.address;\n      let latlng = `${site.latitude}, ${site.longitude}`;\n      let notes = site.notes;\n      let obj = {\n        grower: grower,\n        county: county,\n        email: email,\n        address: address,\n        latlng: latlng,\n        notes: notes\n      };\n      let arr = [];\n      console.log(obj);\n      arr.push(obj);\n      setTableState(arr);\n    });\n  };\n  return (\n    <Box style={{ maxWidth: \"100%\" }}>\n      <Grid container spacing={2}>\n\n        <Grid item xs={12} direction=\"row-reverse\">\n          <Button variant=\"contained\">Add Grower</Button>\n        </Grid>\n\n        <Grid item xs={12}>\n      <MaterialTable\n        isLoading={tableState}\n        editable={{\n          isEditable: rowData => rowData.state === \"MD\", // only name(a) rows would be editable\n          isDeletable: false,\n          //   isDeletable: rowData => rowData.name === \"b\", // only name(a) rows would be deletable\n          onRowAdd: newData => {\n            // console.log(newData);\n            // new Promise((resolve, reject) => {\n            //   setTimeout(() => {\n            //     {\n            //       /* const data = this.state.data;\n            //                 data.push(newData);\n            //                 this.setState({ data }, () => resolve()); */\n            //       dispatch(\n            //         {\n            //           type: \"ADD_ONE_SITE_INFO_TO_STATE\",\n            //           data: newData\n            //         },\n            //         () => resolve()\n            //       );\n            //     }\n            //     resolve();\n            //   }, 1000);\n            // });\n          }\n\n          //   onRowUpdate: (newData, oldData) =>\n          //     new Promise((resolve, reject) => {\n          //       setTimeout(() => {\n          //         {\n          //           /* const data = this.state.data;\n          //                     const index = data.indexOf(oldData);\n          //                     data[index] = newData;\n          //                     this.setState({ data }, () => resolve()); */\n          //         }\n          //         resolve();\n          //       }, 1000);\n          //     }),\n          //   onRowDelete: oldData =>\n          //     new Promise((resolve, reject) => {\n          //       setTimeout(() => {\n          //         {\n          //           /* let data = this.state.data;\n          //                     const index = data.indexOf(oldData);\n          //                     data.splice(index, 1);\n          //                     this.setState({ data }, () => resolve()); */\n          //         }\n          //         resolve();\n          //       }, 1000);\n          //     })\n        }}\n        icons={tableIcons}\n        // onRowClick={(evt, selectedRow) => {\n        //   console.log(selectedRow);\n        // }}\n        // onRowSelected={(evt, selectRow) => {\n        //   console.log(selectRow);\n        // }}\n        columns={[\n          { title: \"Code\", field: \"code\" },\n          { title: \"Grower\", field: \"grower\" },\n          { title: \"State\", field: \"state\" },\n          { title: \"County\", field: \"county\" },\n          { title: \"Email\", field: \"email\" },\n          { title: \"Year\", field: \"year\" },\n          //   { title: \"Email\", field: \"birthYear\", type: \"email\" },\n          { title: \"Address\", field: \"address\" },\n          { title: \"Lat, Long\", field: \"latlng\" },\n          { title: \"Notes\", field: \"notes\" }\n          //   {\n          //     title: \"Doğum Yeri\",\n          //     field: \"birthCity\",\n          //     lookup: { 34: \"İstanbul\", 63: \"Şanlıurfa\" }\n          //   }\n        ]}\n        // data={state.site_information.length !== 0 ? state.site_information : {}}\n        data={state.site_information}\n        title=\"Data Table\"\n        options={{\n          exportButton: true,\n          //   defaultExpanded: true,\n          exportFileName: \"Site Information\",\n          addRowPosition: \"last\",\n          exportAllData: true,\n          pageSize: 10,\n          pageSizeOptions: [5, 10, 20, 50, 100],\n          groupRowSeparator: \"  \",\n          grouping: true\n        }}\n      />\n      {/* )} */}\n      </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default TableComponent;\n","import React, { Fragment } from \"react\";\nimport {\n  Card,\n  makeStyles,\n  CardHeader,\n  Avatar,\n  CardActions,\n  Button,\n  CardContent,\n  Typography\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  card: {\n    minWidth: 275,\n    maxWidth: 300\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst RepositoriesComponent = props => {\n  const repos = props.data;\n  console.log(repos);\n\n  return (\n    <div className=\"repoRow\">\n      {repos.map((repo, index) => (\n        <CardBuilder key={index} data={repo} />\n      ))}\n    </div>\n  );\n};\n\nconst CardBuilder = props => {\n  const repo = props.data;\n  const classes = useStyles();\n  return (\n    <Card key={repo.id} className=\"repo\">\n      <CardHeader\n        avatar={\n          <Avatar\n            variant=\"square\"\n            src={repo.owner.avatar_url}\n            alt={repo.owner.login}\n          />\n        }\n        title={repo.name}\n      />\n      <CardContent>\n        <Typography>Open Issues: {repo.open_issues_count}</Typography>\n      </CardContent>\n      <CardActions>\n        <Button\n          type=\"button\"\n          size=\"small\"\n          href={repo.url}\n          target=\"_blank\"\n          title=\"Check it on github\"\n        >\n          View\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default RepositoriesComponent;\n","import React, { Fragment } from \"react\";\nimport { Context } from \"../Store/Store\";\nimport \"./Issues.scss\";\nimport Axios from \"axios\";\nimport Loading from \"react-loading\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport RepositoriesComponent from \"./Repositories\";\n\nconst getAllRepoNames = async url => {\n  let data = await Axios.get(url)\n    .then(response => {\n      //   console.log(response);\n      return response.data;\n    })\n    .then(response => {\n      let dataObject = {};\n      if (response.length > 0)\n        dataObject = {\n          success: true,\n          data: response\n        };\n      else\n        dataObject = {\n          success: false,\n          data: response\n        };\n\n      return dataObject;\n    })\n    .then(bl => {\n      if (bl.success) {\n        Promise.resolve(\"no error\");\n        return bl.data;\n      } else {\n        Promise.reject(\"error\");\n        return false;\n      }\n    });\n\n  return data;\n};\n\nexport const ReposComponent = () => {\n  const [state, dispatch] = React.useContext(Context);\n  const allReposAPIURL =\n    \"https://api.github.com/orgs/precision-sustainable-ag/repos\";\n\n  React.useEffect(() => {\n    let fetchRepos = getAllRepoNames(allReposAPIURL);\n    fetchRepos.then(data => {\n      dispatch({\n        type: \"UPDATE_ALL_REPOS\",\n        data: data\n      });\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"issuesWrapper\">\n      {state.repositories.length === 0 ? (\n        <div className=\"loaderRow\">\n          <Loading type=\"cubes\" color=\"#3f51b5\" width=\"400px\" height=\"400px\" />\n        </div>\n      ) : (\n        <RepositoriesComponent data={state.repositories} />\n      )}\n    </div>\n  );\n};\n\nexport default ReposComponent;\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { red, grey, green } from \"@material-ui/core/colors\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { CardActionArea } from \"@material-ui/core\";\nimport moment from \"moment-timezone\";\n\nconst deadDeviceBG = red[300];\n// const deadDeviceCol = red[50];\nconst deadDeviceCol = \"#360000 !important\";\nconst activeDeviceBG = green[100];\n// const activeDeviceCol = green[50];\nconst activeDeviceCol = \"#114C2A !important\";\n\nconst DataParser = props => {\n  const [deviceId, setDeviceId] = useState(0);\n  const [shouldRedirect, setShouldRedirect] = useState(false);\n\n  const setDeviceState = deviceId => {\n    setDeviceId(deviceId);\n    setShouldRedirect(true);\n  };\n\n  let device = props.deviceData;\n\n  let dateStatus = \"\";\n  let deviceDateStr = \"\";\n  let today = false;\n  if (device.lastsession) {\n    let deviceSessionBegin = device.links.cellular[0].last_connect_time;\n    let deviceDateFormatted = moment\n      .tz(deviceSessionBegin, \"Africa/Abidjan\")\n      .tz(\"America/New_York\")\n      .format(\"MM/DD/YYYY hh:mm A\");\n\n    deviceDateStr = deviceDateFormatted.toString();\n    let deviceDay = moment\n      .tz(deviceSessionBegin, \"Africa/Abidjan\")\n      .tz(\"America/New_York\")\n      .date();\n\n    let deviceMonth =\n      moment\n        .tz(deviceSessionBegin, \"Africa/Abidjan\")\n        .tz(\"America/New_York\")\n        .month() + 1;\n\n    let deviceYear = moment\n      .tz(deviceSessionBegin, \"Africa/Abidjan\")\n      .tz(\"America/New_York\")\n      .year();\n\n    let now = moment();\n    let todayDay = now.date();\n    let todayMonth = now.month() + 1;\n    let todayYear = now.year();\n\n    if (todayYear === deviceYear && todayMonth === deviceMonth) {\n      // active this month\n      if (todayDay === deviceDay) {\n        // active today\n        dateStatus = \"Active Today\";\n        today = true;\n      } else {\n        dateStatus = \"Active this month\";\n      }\n    } else {\n      // not active this month\n      dateStatus = \"Not active this month\";\n    }\n  }\n\n  return shouldRedirect ? (\n    <Redirect\n      to={{\n        pathname: `/devices/${deviceId}`,\n        state: device\n      }}\n    />\n  ) : (\n    <CardActionArea\n      className={\n        !device.lastsession\n          ? \"deviceActionArea deadDevice\"\n          : \"deviceActionArea aliveDevice\"\n      }\n      style={{\n        backgroundColor: device.lastsession\n          ? today\n            ? activeDeviceBG\n            : \"\"\n          : deadDeviceBG,\n        color: device.lastsession\n          ? today\n            ? activeDeviceCol\n            : \"\"\n          : deadDeviceCol\n      }}\n      disabled={!device.lastsession ? true : false}\n      onClick={() => {\n        setDeviceState(device.id);\n      }}\n    >\n      <p style={{ fontWeight: \"bold\" }}>{device.name}</p>\n      {device.lastsession ? (\n        <Fragment>\n          <p>Last Session: {deviceDateStr}</p>\n          <p style={{ fontWeight: \"bold\" }}>{dateStatus}</p>\n        </Fragment>\n      ) : (\n        <Fragment>\n          <p style={{ fontWeight: \"bold\" }}>Last Session: Not Available</p>\n          <p style={{ fontWeight: \"bold\" }}>Device Dead</p>\n        </Fragment>\n      )}\n    </CardActionArea>\n  );\n};\n\nexport default DataParser;\n","import isIP from \"is-ip\";\n\nexport const APIURL = () => {\n  let mockServerURL =\n    \"https://private-anon-3185b3b9ae-hologram.apiary-proxy.com\";\n  let productionServerURL = \"https://dashboard.hologram.io\";\n  let finalAPIURL = mockServerURL;\n\n  console.log(\"env: \", process.env.NODE_ENV);\n  // if (\n  //   !process.env.NODE_ENV ||\n  //   process.env.NODE_ENV === \"development\" ||\n  //   isIP.v4(process.env.NODE_ENV) ||\n  //   isIP.v4(window.location.hostname)\n  // ) {\n  //   // dev code\n  //   finalAPIURL = mockServerURL;\n  //   console.log(\"RUNNING ON MOCK SERVER\", window.location.hostname);\n  // } else {\n  //   // production code\n  //   finalAPIURL = productionServerURL;\n  //   console.log(\"RUNNING ON LIVE SERVER\", window.location.hostname);\n  // }\n  return finalAPIURL;\n};\n\nexport const APICreds = () => {\n  const authKey = \"apikey:8Lcx29Nrqf6LqcWjqhYI9w4EHPHnCZ\";\n  let authBase64 = btoa(authKey);\n  let options = {\n    responseType: \"json\",\n    headers: {\n      Authorization: `Basic ${authBase64}`\n    }\n  };\n  return options;\n};\n","import React, { useContext, useState, useEffect, Fragment } from \"react\";\nimport { Context } from \"../Store/Store\";\nimport Axios from \"axios\";\nimport Loading from \"react-loading\";\nimport \"./Devices.scss\";\nimport { Card, CardActionArea } from \"@material-ui/core\";\nimport DataParser from \"./DataParser\";\nimport * as Constants from \"./hologramConstants\";\n\n// import red from \"@material-ui/core/colors/red\";\n\nconst DevicesComponent = () => {\n  const [state, dispatch] = useContext(Context);\n  const [devicesLoadingState, setDevicesLoadingState] = useState(true);\n\n  //   const dateTime = new Date().toDateString();\n\n  //   let mockServerURL = \"https://private-anon-3185b3b9ae-hologram.apiary-mock.com\";\n  let devicesData = [];\n  let finalAPIURL = \"\";\n  useEffect(() => {\n    console.log(\"hello from devices\");\n    // let interval = setInterval(\n    finalAPIURL = Constants.APIURL();\n    console.log(finalAPIURL);\n    fetchRecords(`${finalAPIURL}/api/1/devices?withlocation=true`).then(() => {\n      setDevicesLoadingState(false);\n      console.log(\n        \"This is just intended to retrieve basic info, rest of the data should technically come from websockets\"\n      );\n    });\n    //   30 * 1000\n    // );\n    // return () => clearInterval(interval);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchRecords = async apiURL => {\n    let options = Constants.APICreds();\n\n    await apiCall(apiURL, options);\n  };\n\n  const apiCall = async (url, options) => {\n    await Axios.get(url, options)\n      .then(response => {\n        // save whatever we get\n        devicesData.push(response.data.data);\n\n        return response;\n      })\n      .then(async response => {\n        if (response.data.continues) {\n          // recursive call to get more data\n          await apiCall(`${finalAPIURL}${response.data.links.next}`, options);\n        } else {\n          let devicesFlatData = [];\n          devicesFlatData = devicesData.flat();\n          devicesFlatData = devicesFlatData.sort(compare);\n          dispatch({\n            type: \"SET_DEVICES_INFO\",\n            data: devicesFlatData\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n  const compare = (a, b) => {\n    // Use toUpperCase() to ignore character casing\n    let bandA = a.name.toUpperCase();\n    let bandB = b.name.toUpperCase();\n\n    let comparison = 0;\n    if (bandA > bandB) {\n      comparison = 1;\n    } else if (bandA < bandB) {\n      comparison = -1;\n    }\n    return comparison;\n  };\n  return (\n    <div className=\"devicesWrapper\">\n      <div className=\"devicesListWrapper\">\n        {devicesLoadingState ? (\n          <Loading type=\"cubes\" width=\"500px\" height=\"500px\" color=\"#3f51b5\" />\n        ) : (\n          <div className=\"devices\">\n            {state.devices.map((device, index) => (\n              <div className=\"device\" key={device.id}>\n                <Card\n                  variant=\"elevation\"\n                  elevation={3}\n                  className=\"deviceDataWrapper\"\n                >\n                  <DataParser deviceData={device} />\n                </Card>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DevicesComponent;\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport { APIURL, APICreds } from \"./hologramConstants\";\nimport Axios from \"axios\";\n\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\n// import Loading from \"react-loading\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  IconButton,\n  GridList,\n  GridListTile,\n  GridListTileBar,\n  makeStyles,\n  ListItem,\n  ListItemIcon,\n  List,\n  ListItemText,\n  Chip\n} from \"@material-ui/core\";\nimport {\n  Create,\n  SimCard,\n  Phone,\n  Business,\n  Category,\n  SimCardTwoTone,\n  NetworkCell,\n  Router,\n  SignalCellularConnectedNoInternet0Bar,\n  FastForward,\n  Label,\n  ArrowBackIosOutlined\n} from \"@material-ui/icons\";\nimport moment from \"moment-timezone\";\nimport { Link } from \"react-router-dom\";\n\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\"),\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\"),\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\")\n});\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    overflow: \"hidden\",\n    backgroundColor: theme.palette.background.paper\n  },\n  gridList: {\n    width: \"100%\",\n    height: 300,\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: \"translateZ(0)\"\n  },\n  titleBar: {\n    background:\n      \"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, \" +\n      \"rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)\"\n  },\n  icon: {\n    color: \"white\"\n  }\n}));\nconst DeviceComponent = props => {\n  const classes = useStyles();\n  console.log(props.location.state);\n  const [deviceData, setDeviceData] = useState({ name: \"\" });\n  const [latLng, setLatLng] = useState({ flag: false, data: {} });\n  const [mostRecentData, setMostRecentData] = useState({});\n  useEffect(() => {\n    if (props.location.state === undefined) {\n      console.log(\"undefined !\");\n      // get data from api\n      setDeviceData({ name: \"Loading\" });\n      Axios.get(\n        `${APIURL()}/api/1/devices/${\n          props.match.params.deviceId\n        }/?withlocation=true`,\n        APICreds()\n      ).then(response => {\n        if (response.data.success) {\n          setDeviceData(response.data.data);\n          setLatLng({\n            flag: true,\n            data: [\n              response.data.data.lastsession.latitude,\n              response.data.data.lastsession.longitude\n            ]\n          });\n        } else {\n        }\n      });\n    } else {\n      // data passed from component\n      setDeviceData(props.location.state);\n      Axios.get(\n        `${APIURL()}/api/1/csr/rdm?deviceid=${props.location.state.id}`,\n        APICreds()\n      )\n        .then(response => {\n          console.log(\"most recent data\", response);\n          setMostRecentData(response.data.data[0]);\n        })\n        .then(() => {\n          setLatLng({\n            flag: true,\n            data: [\n              props.location.state.lastsession.latitude,\n              props.location.state.lastsession.longitude\n            ]\n          });\n        });\n    }\n  }, []);\n  const renderCard = () => {\n    return (\n      <Card>\n        <CardHeader\n          title={deviceData.name}\n          subheader={`Device ID: ${deviceData.id}`}\n          action={\n            <Link to=\"/devices\">\n              <IconButton aria-label=\"options\">\n                <ArrowBackIosOutlined />\n              </IconButton>\n            </Link>\n          }\n        />\n\n        <CardContent>\n          <Map center={latLng.data} style={{ height: \"300px\" }} zoom={13}>\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <Marker position={latLng.data}>\n              <Popup>Last Active Location</Popup>\n            </Marker>\n          </Map>\n          <div className=\"belowMapContent\"></div>\n        </CardContent>\n      </Card>\n    );\n  };\n\n  const renderGridListMap = () => {\n    return (\n      <GridList cellHeight={600} spacing={1} className={classes.gridList}>\n        <GridListTile key={deviceData.id} style={{ width: \"100%\" }}>\n          <Map\n            center={latLng.data}\n            style={{ height: \"300px\" }}\n            zoom={13}\n            zoomControl={false}\n          >\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <Marker position={latLng.data}>\n              <Popup>Last Active Location</Popup>\n            </Marker>\n          </Map>\n          <GridListTileBar\n            title={deviceData.name}\n            style={{\n              zIndex: \"999\"\n            }}\n            titlePosition=\"top\"\n            actionIcon={\n              <Link to=\"/devices\">\n                <IconButton\n                  aria-label={`All Devices`}\n                  tooltip=\"All Devices\"\n                  className={classes.icon}\n                  to=\"/devices\"\n                >\n                  <ArrowBackIosOutlined />\n                </IconButton>\n              </Link>\n            }\n            actionPosition=\"left\"\n            className={classes.titleBar}\n          />\n        </GridListTile>\n      </GridList>\n    );\n  };\n  const renderJSON = () => {\n    let jdata = JSON.parse(mostRecentData.data);\n    jdata = jdata.data;\n    let part1 = jdata.substring(0, 100);\n    let part2 = jdata.substring(100);\n    jdata = atob(jdata);\n    return (\n      <span style={{ whiteSpace: \"pre-wrap\", wordWrap: \"break-word\" }}>\n        {jdata}\n        {/* <br />\n        {part2} */}\n      </span>\n    );\n  };\n  const renderTimestamp = () => {\n    let jdata = JSON.parse(mostRecentData.data);\n    console.log(jdata);\n    let ts = jdata.timestamp;\n    return <span>{ts}</span>;\n  };\n\n  const renderErrorCode = () => {\n    let jdata = JSON.parse(mostRecentData.data);\n    let ecd = jdata.errorcode;\n    return <span>{ecd}</span>;\n  };\n\n  const renderTags = () => {\n    let allData = JSON.parse(mostRecentData.data);\n    let chips = [];\n    chips = allData.tags;\n\n    return chips.map((chip, index) => (\n      <Chip\n        key={`chip${index}`}\n        style={{ marginRight: \"1em\", marginBottom: \"1em\" }}\n        label={chip}\n      />\n    ));\n  };\n\n  const renderGridListData = () => {\n    return (\n      <Fragment key=\"griddata\">\n        <GridList\n          cols={3}\n          style={{\n            flexWrap: \"nowrap\",\n            transform: \"translateZ(0)\",\n            height: \"auto\"\n          }}\n        >\n          <GridListTile style={{ height: \"auto\" }}>\n            <Card>\n              {/* <CardHeader title=\"General Info\"></CardHeader> */}\n              <CardContent>\n                <List>\n                  <ListItem alignItems=\"flex-start\" key=\"created\">\n                    <ListItemIcon>\n                      <Create />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Created\"}\n                      secondary={deviceData.whencreated}\n                    />\n                  </ListItem>\n\n                  {/* <Divider /> */}\n\n                  <ListItem alignItems=\"flex-start\" key=\"imei\">\n                    <ListItemIcon>\n                      <SimCard />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"IMEI\"}\n                      secondary={deviceData.imei}\n                    />\n                  </ListItem>\n                  {/* <Divider /> */}\n                  <ListItem alignItems=\"flex-start\" key=\"phone\">\n                    <ListItemIcon>\n                      <Phone />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Phone Number\"}\n                      secondary={\n                        deviceData.phonenumber ? deviceData.phonenumber : \"None\"\n                      }\n                    />\n                  </ListItem>\n                </List>\n              </CardContent>\n            </Card>\n          </GridListTile>\n          <GridListTile style={{ height: \"auto\" }}>\n            <Card>\n              {/* <CardHeader title=\"General Info\"></CardHeader> */}\n              <CardContent>\n                <List>\n                  <ListItem alignItems=\"flex-start\" key=\"orgid\">\n                    <ListItemIcon>\n                      <Business />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"ORG ID\"}\n                      secondary={deviceData.orgid}\n                    />\n                  </ListItem>\n                  <ListItem alignItems=\"flex-start\" key=\"imeisv\">\n                    <ListItemIcon>\n                      <SimCardTwoTone />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"IMEI SV\"}\n                      secondary={deviceData.imei_sv}\n                    />\n                  </ListItem>\n                  <ListItem alignItems=\"flex-start\" key=\"type\">\n                    <ListItemIcon>\n                      <Category />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Type\"}\n                      secondary={deviceData.type}\n                    />\n                  </ListItem>\n                </List>\n              </CardContent>\n            </Card>\n          </GridListTile>\n          <GridListTile style={{ height: \"auto\" }}>\n            <Card>\n              {/* <CardHeader title=\"General Info\"></CardHeader> */}\n              <CardContent>\n                <List>\n                  <ListItem alignItems=\"flex-start\" key=\"network\">\n                    <ListItemIcon>\n                      <NetworkCell />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Network\"}\n                      secondary={deviceData.links.cellular[0].last_network_used}\n                    />\n                  </ListItem>\n                  <ListItem alignItems=\"flex-start\" key=\"lastconnect\">\n                    <ListItemIcon>\n                      <Router />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Last Connection\"}\n                      secondary={moment\n                        .tz(\n                          deviceData.links.cellular[0].last_connect_time,\n                          \"UTC\"\n                        )\n                        .tz(\"America/New_York\")\n                        .format(\"MM/DD/YYYY hh:mm A\")\n                        .toString()}\n                    />\n                  </ListItem>\n                  <ListItem alignItems=\"flex-start\" key=\"expires\">\n                    <ListItemIcon>\n                      <SignalCellularConnectedNoInternet0Bar />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Expires\"}\n                      secondary={moment\n                        .tz(deviceData.links.cellular[0].whenexpires, \"UTC\")\n                        .tz(\"America/New_York\")\n                        .format(\"MM/DD/YYYY\")\n                        .toString()}\n                    />\n                  </ListItem>\n                </List>\n              </CardContent>\n            </Card>\n          </GridListTile>\n        </GridList>\n        <GridList row={1}>\n          <GridListTile style={{ height: \"auto\", width: \"100%\" }}>\n            <Card>\n              <CardHeader title=\"Most Recent Connection\"></CardHeader>\n              <CardContent>\n                <List>\n                  <ListItem alignItems=\"flex-start\" key={\"data\"}>\n                    <ListItemIcon>\n                      <FastForward />\n                    </ListItemIcon>\n                    <ListItemText primary={\"Data\"} secondary={renderJSON()} />\n                  </ListItem>\n\n                  <ListItem alignItems=\"flex-start\" key=\"timestamp\">\n                    <ListItemIcon>\n                      <FastForward />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Timestamp\"}\n                      secondary={renderTimestamp()}\n                    />\n                  </ListItem>\n                  <ListItem alignItems=\"flex-start\" key=\"errorcode\">\n                    <ListItemIcon>\n                      <FastForward />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\"Error Code\"}\n                      secondary={renderErrorCode()}\n                    />\n                  </ListItem>\n                </List>\n              </CardContent>\n            </Card>\n          </GridListTile>\n        </GridList>\n        <GridList row={1}>\n          <GridListTile style={{ height: \"auto\", width: \"100%\" }}>\n            <Card>\n              <CardHeader title=\"Tags\" />\n              <CardContent>\n                <List>\n                  <ListItem alignItems=\"flex-start\" key=\"tags\">\n                    <ListItemIcon>\n                      <Label />\n                    </ListItemIcon>\n                    <ListItemText primary={renderTags()} title={\"Tags\"} />\n                  </ListItem>\n                </List>\n              </CardContent>\n            </Card>\n          </GridListTile>\n        </GridList>\n      </Fragment>\n    );\n  };\n  return latLng.flag ? (\n    <div>\n      {renderGridListMap()}\n      {renderGridListData()}\n    </div>\n  ) : (\n    // <Loading width=\"500px\" height=\"500px\" type=\"cubes\" />\n    <Skeleton variant=\"rect\" width=\"100%\" height=\"300px\" animation=\"wave\" />\n  );\n};\n\nexport default DeviceComponent;\n","import Axios from 'axios';\n\n\nconst getAllKoboAssets = async(who) => {\n\nswitch(who) {\n    case 'psa' : return await Axios.get('http://13.72.51.225/api/kobo.php?get=assets&for=psa');\n    case 'psassg' : return await Axios.get('http://13.72.51.225/api/kobo.php?get=assets&for=psassg');\n}\n  \n\n   \n    \n};\n\n\n\nexport default getAllKoboAssets;","import React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport \"./FormsSkeletonWrapper.scss\";\n\nconst FormsLoadingSkeleton = () => {\n\n    return(\n        <div className=\"skeletonWrapper\">\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        <Skeleton variant=\"rect\" height=\"200px\" width=\"200px\" />\n        </div>\n    );\n\n};\n\nexport default FormsLoadingSkeleton;","import React, { useEffect, useState, useContext } from \"react\";\nimport getAllKoboAssets from \"./KoboFormAuth\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport FormsLoadingSkeleton from \"./FormsLoadingSkeleton\";\nimport { Context } from \"../Store/Store\";\nimport {\n  Typography,\n  makeStyles,\n  Card,\n  CardContent,\n  Paper,\n  Box\n} from \"@material-ui/core\";\nimport \"./Forms.scss\";\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 400,\n    width: 300\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst Forms = () => {\n  const classes = useStyles();\n\n  const [isPSALoading, setIsPSALoading] = useState(true);\n  const [isPSASSGLoading, setIsPSASSGLoading] = useState(true);\n\n  const [state, dispatch] = useContext(Context);\n\n  useEffect(() => {\n    console.log(\"hello from forms\");\n\n    getAllKoboAssets(\"psa\")\n      .then(response => {\n        setIsPSALoading(false);\n        // console.log(data);\n\n        dispatch({\n          type: \"SET_PSA_FORMS\",\n          data: response.data.results\n        });\n      })\n      .then(async () => {\n        await getAllKoboAssets(\"psassg\").then(response => {\n          setIsPSASSGLoading(false);\n          dispatch({\n            type: \"SET_PSASSG_FORMS\",\n            data: response.data.results\n          });\n        });\n      });\n  }, []);\n\n  return (\n    <Paper>\n      <Box className=\"koboFormsWrapper\">\n        <Typography variant=\"h5\" className=\"mb-2\">\n          PSA Forms\n        </Typography>\n        {isPSALoading ? (\n          <FormsLoadingSkeleton />\n        ) : state.psaForms.length !== 0 ? (\n          <div className=\"koboForms\">\n            {state.psaForms.map((form, index) =>\n              form.name !== \"\" && form.deployment__active ? (\n                <Card className={classes.card} variant=\"outlined\" key={index}>\n                  <CardContent>\n                    <Typography variant=\"body1\">{form.name}</Typography>\n                    <Typography variant=\"body2\">\n                      Total Submission Count:{\" \"}\n                      {form.deployment__submission_count}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              ) : (\n                \"\"\n              )\n            )}\n          </div>\n        ) : (\n          \"\"\n        )}\n        <Typography variant=\"h5\" className=\"mt-2\">\n          Social Science Group Forms\n        </Typography>\n        {isPSASSGLoading ? (\n          <FormsLoadingSkeleton />\n        ) : state.psassgForms.length !== 0 ? (\n          <div className=\"koboForms\">\n            {state.psassgForms.map((form, index) =>\n              form.name !== \"\" && form.deployment__active ? (\n                <Card className={classes.card} variant=\"outlined\" key={index}>\n                  <CardContent>\n                    <Typography variant=\"body1\">{form.name}</Typography>\n                    <Typography variant=\"body2\">\n                      Total Submission Count:{\" \"}\n                      {form.deployment__submission_count}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              ) : (\n                \"\"\n              )\n            )}\n          </div>\n        ) : (\n          \"\"\n        )}\n      </Box>\n    </Paper>\n  );\n};\n\nexport default Forms;\n","import React, { useContext } from \"react\";\nimport { Context } from \"../Store/Store\";\nimport {\n  Paper,\n  Typography,\n  Grid,\n  Card,\n  CardActionArea,\n  Box\n} from \"@material-ui/core\";\n\nconst LandingComponent = () => {\n  const [state, dispatch] = useContext(Context);\n\n  return (\n    <Paper elevation={0}>\n      <Box paddingTop={\"2em\"} minHeight={\"80vh\"}>\n        <Typography variant=\"h5\" align=\"center\" gutterBottom>\n          Welcome to Precision Sustainable Agriculture Tech Dashboard\n        </Typography>\n        <Grid container>\n          <Grid item>\n            {/* <Card>\n            <CardActionArea>\n              <Typography>Card 1</Typography>\n            </CardActionArea>\n          </Card> */}\n          </Grid>\n        </Grid>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default LandingComponent;\n","import React, { useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useAuth0 } from \"../Auth/react-auth0-spa\";\n\nconst PrivateRoute = ({ component: Component, path, ...rest }) => {\n  const { loading, isAuthenticated, loginWithRedirect } = useAuth0();\n\n  useEffect(() => {\n    if (loading || isAuthenticated) {\n      return;\n    }\n    const fn = async () => {\n      await loginWithRedirect({\n        appState: { targetUrl: path }\n      });\n    };\n    fn();\n  }, [loading, isAuthenticated, loginWithRedirect, path]);\n\n  const render = props =>\n    isAuthenticated === true ? <Component {...props} /> : null;\n\n  return <Route path={path} render={render} {...rest} />;\n};\n\nexport default PrivateRoute;","import React, { Fragment, useState, useEffect } from \"react\";\n\nimport \"./Styles/App.css\";\n\nimport Header from \"./Header/Header\";\n\nimport {\n  makeStyles,\n  Box,\n  MuiThemeProvider,\n  createMuiTheme,\n  CssBaseline,\n  ThemeProvider,\n  Paper,\n  Typography,\n  Container\n} from \"@material-ui/core\";\nimport TableComponent from \"./Table/Table\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ReposComponent } from \"./Issues/Issues\";\nimport DevicesComponent from \"./Devices/Devices\";\nimport DeviceComponent from \"./Devices/Device\";\nimport Forms from \"./Forms/Forms\";\nimport LandingComponent from \"./Landing/Landing\";\n// import Login from \"./Auth/Login/Login\";\n\nimport { useAuth0 } from \"./Auth/react-auth0-spa\";\nimport Loading from \"react-loading\";\nimport PrivateRoute from \"./utils/private-routes\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  toolbar: theme.mixins.toolbar\n}));\n\nfunction App() {\n  const { loading } = useAuth0();\n  const classes = useStyles();\n\n  const [theme, setTheme] = useState({\n    palette: {\n      primary: { main: \"#2e7d32\" },\n      secondary: { main: \"#4d4d4d\" },\n      type: window.localStorage.getItem(\"theme\")\n        ? window.localStorage.getItem(\"theme\")\n        : \"light\"\n    },\n    typography: {\n      useNextVariants: true,\n      fontFamily: \"'Nunito', sans-serif\"\n    }\n  });\n\n  const muiTheme = createMuiTheme(theme);\n\n  const toggleThemeDarkness = () => {\n    let newPaletteType = theme.palette.type === \"light\" ? \"dark\" : \"light\";\n    setTheme({\n      ...theme,\n      palette: {\n        ...theme.palette,\n        type: newPaletteType\n      }\n    });\n  };\n\n  const isDarkTheme = () => {\n    return theme.palette.type === \"light\" ? false : true;\n  };\n\n  useEffect(() => {\n    if (!window.localStorage.getItem(\"theme\")) {\n      // set localstorage with a default theme\n      window.localStorage.setItem(\"theme\", \"light\");\n    }\n\n    if (theme.palette.type !== \"light\") {\n      // update localstorage\n      window.localStorage.setItem(\"theme\", \"dark\");\n      document.body.style.backgroundColor = \"#121212\";\n    } else {\n      // update localstorage\n      window.localStorage.setItem(\"theme\", \"light\");\n      document.body.style.backgroundColor = \"#fff\";\n      // document.body.style.backgroundColor = \"rgb(247, 249, 252)\";\n    }\n  }, [theme]);\n  return loading ? (\n    <div className={classes.root}>\n      <CssBaseline />\n      <ThemeProvider theme={muiTheme}>\n        <Paper\n          style={{\n            height: \"100vh\"\n          }}\n        >\n          <Box height={\"40vh\"} />\n          <Typography variant=\"h3\" gutterBottom align=\"center\">\n            Loading..\n          </Typography>\n        </Paper>\n      </ThemeProvider>\n    </div>\n  ) : (\n    // <CssBaseline>\n    <ThemeProvider theme={muiTheme}>\n      <Container maxWidth={\"xl\"} className=\"mainContainer\">\n        <Header\n          isDarkTheme={theme.palette.type === \"light\" ? false : true}\n          setDarkTheme={toggleThemeDarkness}\n        />\n        {/* <DrawerComponent /> */}\n\n        <main className={classes.content}>\n          <div className={classes.toolbar} />\n          {/* <Paper elevation={0} style={{ minHeight: \"100%\" }}> */}\n          <Switch>\n            {/* <Route path=\"/\" component={Login} exact /> */}\n            <Route\n              render={props => (\n                <LandingComponent\n                  {...props}\n                  isDarkTheme={theme.palette.type === \"light\" ? false : true}\n                />\n              )}\n              path=\"/\"\n              exact\n            />\n            <PrivateRoute\n              path=\"/table\"\n              render={props => <TableComponent {...props} />}\n            />\n            {/* <PrivateRoute path=\"/table\" component={TableComponent} /> */}\n            <PrivateRoute path=\"/issues\" component={ReposComponent} exact />\n            <PrivateRoute path=\"/devices\" component={DevicesComponent} exact />\n            <PrivateRoute\n              path={`/devices/:deviceId`}\n              component={DeviceComponent}\n            />\n            <PrivateRoute path={`/kobo-forms`} component={Forms} />\n          </Switch>\n          {/* </Paper> */}\n        </main>\n        {/* </Paper> */}\n      </Container>\n    </ThemeProvider>\n    // </CssBaseline>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Styles/index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Store from \"./Store/Store\";\nimport \"typeface-roboto\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport { Auth0Provider } from \"./Auth/react-auth0-spa\";\nimport history from \"./utils/history\";\nimport config from \"./Auth/auth_config.json\";\nimport { CssBaseline } from \"@material-ui/core\";\n\n// a function that routes the user to the right place after login\nconst onRedirectCallback = appState => {\n  history.push(\n    appState && appState.targetUrl\n      ? appState.targetUrl\n      : window.location.pathname\n  );\n};\n\nReactDOM.render(\n  <Auth0Provider\n    domain={config.domain}\n    client_id={config.clientId}\n    redirect_uri={\n      window.location.origin === \"https://precision-sustainable-ag.github.io\"\n        ? window.location.origin + \"/tech-dashboard\"\n        : window.location.origin\n    }\n    onRedirectCallback={onRedirectCallback}\n  >\n    <Store>\n      <BrowserRouter history={history}>\n        <App />\n      </BrowserRouter>\n    </Store>\n  </Auth0Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}